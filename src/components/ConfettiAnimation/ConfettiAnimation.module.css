.confettiContainer {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1000;
  overflow: hidden;
}

.confettiParticle {
  position: absolute;
  border-radius: 50%;
  animation: confettiFall var(--animation-duration, 3s) var(--animation-delay, 0s) ease-out forwards;
  opacity: 0.9;
}

@keyframes confettiFall {
  0% {
    transform: translateY(-10px) translateX(0) rotate(0deg) scale(1);
    opacity: 1;
  }
  
  10% {
    opacity: 1;
  }
  
  50% {
    transform: translateY(50vh) translateX(var(--drift, 0px)) rotate(180deg) scale(0.8);
    opacity: 0.8;
  }
  
  100% {
    transform: translateY(100vh) translateX(var(--drift, 0px)) rotate(360deg) scale(0.4);
    opacity: 0;
  }
}

/* Alternative confetti shapes */
.confettiParticle:nth-child(3n) {
  border-radius: 0;
  transform: rotate(45deg);
}

.confettiParticle:nth-child(4n) {
  border-radius: 2px;
}

.confettiParticle:nth-child(5n) {
  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
  border-radius: 0;
}

/* Enhanced animation variations */
.confettiParticle:nth-child(2n) {
  animation-name: confettiSpiral;
}

.confettiParticle:nth-child(3n) {
  animation-name: confettiWiggle;
}

@keyframes confettiSpiral {
  0% {
    transform: translateY(-10px) translateX(0) rotate(0deg) scale(1);
    opacity: 1;
  }
  
  25% {
    transform: translateY(25vh) translateX(20px) rotate(90deg) scale(0.9);
    opacity: 0.9;
  }
  
  50% {
    transform: translateY(50vh) translateX(-10px) rotate(180deg) scale(0.8);
    opacity: 0.8;
  }
  
  75% {
    transform: translateY(75vh) translateX(15px) rotate(270deg) scale(0.6);
    opacity: 0.6;
  }
  
  100% {
    transform: translateY(100vh) translateX(var(--drift, 0px)) rotate(360deg) scale(0.4);
    opacity: 0;
  }
}

@keyframes confettiWiggle {
  0% {
    transform: translateY(-10px) translateX(0) rotate(0deg) scale(1);
    opacity: 1;
  }
  
  10% {
    transform: translateY(10vh) translateX(-5px) rotate(36deg) scale(0.95);
  }
  
  20% {
    transform: translateY(20vh) translateX(5px) rotate(72deg) scale(0.9);
  }
  
  30% {
    transform: translateY(30vh) translateX(-3px) rotate(108deg) scale(0.85);
  }
  
  40% {
    transform: translateY(40vh) translateX(7px) rotate(144deg) scale(0.8);
  }
  
  50% {
    transform: translateY(50vh) translateX(-2px) rotate(180deg) scale(0.75);
    opacity: 0.8;
  }
  
  60% {
    transform: translateY(60vh) translateX(4px) rotate(216deg) scale(0.7);
  }
  
  70% {
    transform: translateY(70vh) translateX(-6px) rotate(252deg) scale(0.65);
  }
  
  80% {
    transform: translateY(80vh) translateX(3px) rotate(288deg) scale(0.6);
  }
  
  90% {
    transform: translateY(90vh) translateX(-1px) rotate(324deg) scale(0.5);
    opacity: 0.4;
  }
  
  100% {
    transform: translateY(100vh) translateX(var(--drift, 0px)) rotate(360deg) scale(0.4);
    opacity: 0;
  }
}

/* Burst effect for initial appearance */
.confettiParticle {
  animation-fill-mode: forwards;
}

/* Performance optimizations */
.confettiParticle {
  will-change: transform, opacity;
  backface-visibility: hidden;
  transform-style: preserve-3d;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .confettiParticle {
    animation-duration: 1s !important;
    animation-name: confettiFadeOut !important;
  }
  
  @keyframes confettiFadeOut {
    0% {
      opacity: 1;
      transform: translateY(-10px) scale(1);
    }
    100% {
      opacity: 0;
      transform: translateY(20px) scale(0.8);
    }
  }
}

/* Mobile optimizations */
@media (max-width: 768px) {
  .confettiContainer {
    /* Reduce particle count on mobile for better performance */
    /* This will be handled by the component props */
  }
  
  .confettiParticle {
    /* Simpler animations on mobile */
    animation-name: confettiFall !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .confettiParticle {
    border: 1px solid currentColor;
  }
}